digraph {

  node [fontname=Helvetica]

  review [label="REVIEW existing positions"]
  purge [label="PURGE closed positions (old or ready to sell)"]
  consolidate [label="CONSOLIDATE purged positions and new prospects"]
  balance [label="Calculate BALANCE"]
  index [label="Create INDEX (web page summary)"]

  "Fetch all SYMBOLS from CryptoCompare"
    -> "Fetch PRICES for symbols"
    -> "REFRESH current positions with recent prices"
    -> review

  "Fetch PRICES for symbols"
    -> "Calculate PROSPECTS by executing strategy library"
    -> consolidate

  // Consolidate takes review and new
  review
    -> purge
    -> consolidate
    -> index

  // Balance calculation
  review
    -> balance
    -> index
}
